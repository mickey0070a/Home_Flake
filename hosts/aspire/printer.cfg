# This file contains a basic configuration for Ender 3 V1 with Klipper.
# It assumes stock hardware (e.g., no upgrades like BLTouch, auto bed leveling, or silent stepper drivers).
# Adjust as needed for your specific setup.

# Ender 3 V1 Basic Configuration
[printer]
kinematic: cartesian
max_velocity: 200
max_accel: 1000
max_z_velocity: 10
max_z_accel: 100

# This is the temperature control for the heated bed
[heater_bed]
sensor_type: EPCOS 100K B57560G104F
sensor_pin: ^PB0
min_temp: 0
max_temp: 130
control: pid
pid_Kp: 23.3
pid_Ki: 1.10
pid_Kd: 305.4

# This is the extruder motor configuration
[extruder]
step_pin: PA3
dir_pin: !PA2
enable_pin: !PA1
microsteps: 16
rotation_distance: 33.500
nozzle_diameter: 0.400
filament_diameter: 1.750
max_extrude_only_distance: 100.0
pressure_advance: 0.100
heater_pin: PB1
sensor_type: EPCOS 100K B57560G104F
sensor_pin: ^PA0
min_temp: 0
max_temp: 260
control: pid
pid_Kp: 22.0
pid_Ki: 1.10
pid_Kd: 114.0

# Stepper motors configuration (X, Y, Z, Extruder)
[stepper_x]
step_pin: PA2
dir_pin: !PA4
enable_pin: !PA5
microsteps: 16
rotation_distance: 40
endstop_pin: ^PC6
position_endstop: 0
position_max: 235

[stepper_y]
step_pin: PB4
dir_pin: !PB5
enable_pin: !PB6
microsteps: 16
rotation_distance: 40
endstop_pin: ^PA6
position_endstop: 0
position_max: 235

[stepper_z]
step_pin: PA0
dir_pin: !PA1
enable_pin: !PA7
microsteps: 16
rotation_distance: 8
endstop_pin: ^PC7
position_endstop: 0.5
position_max: 250

[stepper_z1]
step_pin: PA9
dir_pin: !PA8
enable_pin: !PA7
microsteps: 16
rotation_distance: 8
endstop_pin: probe:z_virtual_endstop

# Z probe configuration (if you have a BLTouch or other probe)
[probe]
pin: ^PA10
samples: 3
sample_retract_dist: 2
speed: 5.0

# Thermistor configuration
[temperature_sensor bed]
sensor_type: EPCOS 100K B57560G104F
sensor_pin: ^PB0
min_temp: 0
max_temp: 130

# Cooling fan configuration
[fan]
pin: PB3
max_power: 1.0

# Configuring the Endstop switches
[endstop]
x_endstop_pin: ^PC6
y_endstop_pin: ^PA6
z_endstop_pin: ^PC7

# Homeing settings
[homing]
x: 0
y: 0
z: 0
speed: 50
